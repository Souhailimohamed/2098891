<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Exercice 31: Example pageX\pageY & layerX\layery</title>
    <script type="text/javascript">

      var canvasMinX;
      var canvasMaxX;

      function showCoords(evt) {
        var form = document.forms.form_coords;
        var parent_id = evt.target.parentNode.id;
        form.parentId.value = parent_id;
        form.pageXCoords.value = evt.pageX;
        form.pageYCoords.value = evt.pageY;
        form.layerXCoords.value = evt.layerX;
        form.layerYCoords.value = evt.layerY;

      }

      function init() {
        canvasMinX = canvas.offsetLeft;
        canvasMaxX = canvasMinX + WIDTH;
      }

      function onMouseMove(evt) {
        if (evt.pageX > canvasMinX && evt.pageX < canvasMaxX) {
          paddlex = evt.pageX - canvasMinX;
        }
      }

      $(document).mousemove(onMouseMove);

      
    </script>

    <style type="text/css">
      #d1 {
        border: solid blue 1px;
        padding: 20px;
      }

      #d2 {
        position: absolute;
        top: 180px;
        left: 80%;
        right: auto;
        width: 40%;
        border: solid bluc 1px;
        padding: 20px;
      }

      #d3 {
        position: absolute;
        top: 240px;
        left: 20%;
        width: 50%;
        border: solid blue 1px;
        padding: 10px;
      }
    </style>
  </head>

  <body onmousedown="showCoords(event)">
    <p>
      Pour afficher les coordonnées de la souris, veuillez cliquer quelque part
      sur la page
    </p>

    <div id="d1">
      <span>
        Cette div n'est pas positionnée cliquer dedans renverra des valeurs
        layerX/layery identiques à celles de pageX/PageY.
      </span>
    </div>

    <div id="d2">
      <span>
        Cette div est positionnée: cliquer dedans renverra des valeurs
        layerX/layery relatives à son coin supérieur. Notez que les valeurs de
        pageX\pageY sont toujours relatives au document, ce qui inclue le
        défilement dans la page.
      </span>

      <span>
        Un peu de défilement ! C'est un div positionné le clic renverra des
        valeurs layerX/layerY relative à son coin supérieur gauche.
      </span>
    </div>
    <div id="d3">
      <form name="form_coords" id="form1">
        Id de l'élément parent:
        <input type="text" name="parentId" size="7" /><br />
        pageX:<input type="text" name="pageXCoords" size="7" /> 
        pageY:<input type="text" name="pageYCoords" size="7" />
        <br />

        layerX: <input type="text" name="layerXCoords" size="7" /> 
        
        layerY:<input type="text" name="layerYCoords" size="7" />
      </form>
    </div>

  </body>
</html>
